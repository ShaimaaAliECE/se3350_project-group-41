<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Level 3</title>

		<style>
			h1 {
				color: red;
				text-align: center;
			}

			header {
				margin-top: 1pc;
			}
			.table1,
			.table1 th,
			.table1 td {
				margin-left: auto;
				margin-right: auto;
				margin-top: 4pc;
			}

			.table2,
			.table2 th,
			.table2 td {
				margin-left: 30%;
				margin-right: auto;
				margin-top: 2pc;
			}

			.table3,
			.table3 th,
			.table3 td {
				margin-left: auto;
				margin-right: 30%;
				margin-top: -1.75pc;
			}

			.table4,
			.table4 th,
			.table4 td {
				margin-left: 25%;
				margin-right: auto;
				margin-top: 2pc;
			}

			.table5,
			.table5 th,
			.table5 td {
				margin-left: 37%;
				margin-right: auto;
				margin-top: -1.75pc;
			}

			.table6,
			.table6 th,
			.table6 td {
				margin-left: 22%;
				margin-right: auto;
				margin-top: 2pc;
			}

			.table7,
			.table7 th,
			.table7 td {
				margin-left: 30%;
				margin-right: auto;
				margin-top: -1.75pc;
			}

			.table8,
			.table8 th,
			.table8 td {
				margin-left: 20%;
				margin-right: auto;
				margin-top: 2pc;
			}

			.table9,
			.table9 th,
			.table9 td {
				margin-left: 25%;
				margin-right: auto;
				margin-top: -1.75pc;
			}

			.table10,
			.table10 th,
			.table10 td {
				margin-left: 35%;
				margin-right: auto;
				margin-top: -5.5pc;
			}

			.table11,
			.table11 th,
			.table11 td {
				margin-left: 41%;
				margin-right: auto;
				margin-top: -1.75pc;
			}

			.table12,
			.table12 th,
			.table12 td {
				margin-left: auto;
				margin-right: 41%;
				margin-top: -5.5pc;
			}

			.table13,
			.table13 th,
			.table13 td {
				margin-left: auto;
				margin-right: 45%;
				margin-top: 2pc;
			}

			.table14,
			.table14 th,
			.table14 td {
				margin-left: auto;
				margin-right: 40%;
				margin-top: -1.75pc;
			}

			.table15,
			.table15 th,
			.table15 td {
				margin-left: auto;
				margin-right: 49%;
				margin-top: 2pc;
			}

			.table16,
			.table16 th,
			.table16 td {
				margin-left: auto;
				margin-right: 44%;
				margin-top: -1.75pc;
			}

			.table17,
			.table17 th,
			.table17 td {
				margin-left: auto;
				margin-right: 25%;
				margin-top: -9.25pc;
			}

			.table18,
			.table18 th,
			.table18 td {
				margin-left: auto;
				margin-right: 28%;
				margin-top: 2pc;
			}

			.table19,
			.table19 th,
			.table19 td {
				margin-left: auto;
				margin-right: 23%;
				margin-top: -1.75pc;
			}
		</style>
	</head>
	<body id="main" onload="timerStart()">
		<h1 color:red text-align center>Merge Sort Game</h1>
		<p id="countdown">0: 00</p>
	</body>
</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
	let nextcount = -1,
		nocopy = 0;
	let nums = [];
	let correctnums = [];
	let correctanswer = false;
	let mergeornot = false;
	let mistakes = 0;

	for (let i = 0; i < 10; i++) {
		//randomly generates the table with 10 numbers
		a = Math.floor(Math.random() * 20 + 1);
		nums.push(a);
	}

	function timerStart() {
		setInterval(updateCount, 1000);
		//setInterval(timerIncrement, 5000);
		ShowLine();
	}

	const startingMins = 0;
	let time = startingMins * 60;
	const countdown = document.getElementById('countdown');

	var idleTime = 0;
	$(document).ready(function () {
		// Zero the idle timer on mouse movement.
		$(this).mousemove(function (e) {
			idleTime = 0;
		});
		$(this).keypress(function (e) {
			idleTime = 0;
		});
	});

	function updateCount() {
		const mins = Math.floor(time / 60);
		let secs = time % 60;

		secs = secs < 10 ? '0' + secs : secs;

		countdown.innerHTML = `${mins}: ${secs}`;
		time++;

		idleTime = idleTime + 1;
		if (idleTime > 302) {
			// change to 302 seconds
			alert('You have been idel for too long');
			location.href = 'index.html';
		}
	}

	correctnums = [nums[0], nums[1], nums[2], nums[3], nums[4]];
	function ShowLine() {
		//Creates the first line of the table

		let content = '';

		content +=
			'<style> h1 {color:red; text-align: center} p {color:blue;} table {width:400px; margin-left: auto; margin-right: auto;}  th {text-align:center;} table,th,td {border:1px solid #000;} .table2, .table2 th, .table2 td{margin-left: 20%;margin-right: auto;margin-top: 2pc;} .table3, .table3 th, .table3 td{margin-left: auto;margin-right: 20%;margin-top:-1.75pc;} .table4, .table4 th, .table4 td{margin-left: 10%;margin-right: auto;margin-top: 2pc;} .table5, .table5 th, .table5 td{margin-left: 35%;margin-right: auto;margin-top:-1.75pc;} .table6, .table6 th, .table6 td{margin-left: 7%;margin-right: auto;margin-top: 2pc;} .table7, .table7 th, .table7 td{margin-left: 15%;margin-right: auto;margin-top: -1.75pc;}.table8, .table8 th, .table8 td{margin-left: 12%;margin-right: auto;margin-top: 2pc;} .table9, .table9 th, .table9 td{margin-left: 20%;margin-right: auto;margin-top: -3pc;} .table10, .table10 th, .table10 td{margin-left: 15%;margin-right: auto;margin-top: -5.25pc;} .table11, .table11 th, .table11 td{margin-left: 10%;margin-right: auto;margin-top: -7.25pc;}.table12, .table12 th, .table12 td{margin-left: 40%;margin-right: auto;} .table13, .table13 th, .table13 td{margin-left: 32%;margin-right: auto;margin-top: -1.75pc;}  .table14, .table14 th, .table14 td{margin-left: 35%;margin-right: auto;margin-top: -4pc;}  .table2, .table2 th, .table2 td{margin-left: 20%;margin-right: auto;margin-top: 2pc;}  .table15, .table15 th, .table15 td{margin-left: 20%;margin-right: auto;margin-top: -12pc;} .table16, .table16 th, .table16 td{margin-left: auto;margin-right: 30%;margin-top: 2pc;} .table17, .table17 th, .table17 td{margin-left: auto;margin-right: 13%;margin-top: -1.75pc;} .table18, .table18 th, .table18 td{margin-left: auto;margin-right: 38%;margin-top: 1pc;}  .table19, .table19 th, .table19 td{margin-left: auto;margin-right: 25%;margin-top: -1.75pc;} .table20, .table20 th, .table20 td{margin-left: auto;margin-right: 30%;margin-top: 1pc;} .table21, .table21 th, .table21 td{margin-left: auto;margin-right: 22%;margin-top: -2.75pc;} .table22, .table22 th, .table22 td{margin-left: auto;margin-right: 25%;margin-top: -5.5pc;}  .table23, .table23 th, .table23 td{margin-left: auto;margin-right: 30%;margin-top: -7.25pc;} .table24, .table24 th, .table24 td{margin-left: auto;margin-right: 20%;margin-top: 1pc;} .table25, .table25 th, .table25 td{margin-left: auto;margin-right: 9%;margin-top: -1.75pc;}  .table26, .table26 th, .table26 td{margin-left: auto;margin-right: 13%;margin-top: -4pc;} .table27, .table27 th, .table27 td{margin-left: auto;margin-right: 20%;margin-top:-12pc;} .table28, .table28 th, .table28 td{margin-left: auto;margin-right: auto;margin-top: -24pc;}</style>';
		content += '<style></style>';

		content += "<table style=text-align: center; id='T1'><tr>";

		for (let i = 0; i < 10; i++) {
			//fills the table
			content += '<th>';
			content += nums[i];
			content += '</th>';
		}
		content += '</tr></table><br><br>';
		content += "<input type = 'button' id = 'btn' onmouseout='mouseOut()' onmouseover='mouseOver()' onclick = 'NextLine()' value = 'Next'>"; //creates the next button that calls the next step

		$(document).ready(function () {
			$('.hello').remove();
			$('#main').append(content);
		});
	}

	function mouseOut() {
		var tag=document.getElementById("btn");
    	tag.style.background="white";
		tag.style.padding = '7px';
		tag.style.borderColor = 'black';
		tag.style.borderRadius='7px';
		};


	function mouseOver() {
		var tag=document.getElementById("btn");
    	tag.style.background="aquamarine";
		tag.style.padding = '7px';
		tag.style.borderColor = 'black';
		tag.style.borderRadius='7px';
		};


function checkMouseOut() {
		var cb=document.getElementById("check");
    	cb.style.background="white";
		cb.style.padding = '7px';
		cb.style.borderColor = 'black';
		cb.style.borderRadius='7px';
		};


	function checkMouseOver() {
		var cb=document.getElementById("check");
    	cb.style.background="aquamarine";
		cb.style.padding = '7px';
		cb.style.borderColor = 'black';
		cb.style.borderRadius='7px';
		};

	function NextLine() {
		//contains all the steps of the tutorial
		let content = '';
		console.log(nextcount);
		switch (nextcount) {
			case -1:
					content += "<input type = 'button'onmouseout='checkMouseOut()' onmouseover='checkMouseOver()' onclick = 'checkifsplitcorrect()' value = 'check' id='check'>";
				content +=
					"<input type='text' id='arr1' placeholder='enter the value'   style 'width: 200%'/>";
				nextcount++;
				break;

			case 0: //split
				if (correctanswer){
					
					//2
					content += "<table class = 'table2' style='width: 10%' id='T2'><tr>";
					for (let i = 0; i < 5; i++) {
						content += '<th>';
						content += nums[i];
						content += '</th>';
					}
					content += '</tr></table>';
					correctnums = [nums[5], nums[6], nums[7],nums[8],nums[9]];
					correctanswer = false;
                    nextcount++;
				}
				break;
			case 1:
                if (correctanswer) {
                    
                    //3
                    content +=
                        "<table class = 'table3' style='width: 10%' id='T3'><tr>";
                    for (let i = 5; i < 10; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    correctnums = [nums[0], nums[1], nums[2]];
                    content += "</tr></table>";
                    correctanswer = false;
                    nextcount++;
                }

                break;

			case 2: //split
				if (correctanswer) {
                    
                    content +=
                        "</br><table class = 'table4' style='width: 6%' id='T4'><tr>";
                    for (let i = 0; i < 3; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    content += "</tr></table>";
                    correctnums = [nums[3], nums[4]];
                    correctanswer = false;
                    nextcount++;
                }
				break;
			case 3:
				if (correctanswer) {
                    
                    content +=
                        "<table class = 'table5' style ='width: 4%' id ='T5'><tr>";
                    for (let i = 3; i < 5; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    correctnums = [nums[0]];
                    content += "</tr></table>";
                    correctanswer = false;
                    nextcount++;
                }
				break;

			case 4: //split
				if (correctanswer) {
                    

                    content +=
                        "</br><table class = 'table6' style = 'width: 2%' id='T6'><tr>";
                    for (let i = 0; i < 1; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    content += "</tr></table>";
                    correctnums = [nums[1], nums[2]];
                    correctanswer = false;
                    nextcount++;
                }
				break;
			case 5:
				if (correctanswer) {
                    
                    content +=
                        "<table class = 'table7' style = 'width: 4%' id='T7'><tr>";
                    for (let i = 1; i < 3; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    content += "</tr></table>";
                    correctnums = [nums[1]];
                    correctanswer = false;
                    nextcount++;
                }
				break;
			case 6:
				if (correctanswer) {
                   
                    content +=
                        "</br><table class = 'table8' style = 'width: 2%' id ='T8'><tr>";
                    for (let i = 1; i < 2; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    content += "</tr></table>";
                    correctnums = [nums[2]];
                    correctanswer = false;
                    nextcount++;
                }
				break;
			case 7:
				if (correctanswer) {
                  
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
                    content +=
                        "</br><table class = 'table9' style = 'width: 2%' id ='T9'><tr>";
                    for (let i = 2; i < 3; i++) {
                        content += "<th>";
                        content += nums[i];
                        content += "</th>";
                    }
                    content += "</tr></table>";
                    correctanswer = false;
                    nextcount++;
                }
				break;
			case 8: //instruction for initial merge
				
				document.getElementById( 'check' ).setAttribute( "onClick", "javascript: checkifmergecorrect();" );
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T7 = document.getElementById('T7');
				var m1 = T7.getElementsByTagName('th');
				shortA = [nums[1], nums[2]];
				sortednums = mergeSort(shortA);
				sn = 0;
				for (let i = 0; i < 2; i++) {
					m1[i].innerHTML = '&nbsp';
				}
				nextcount++;
				break;

			case 9: //add first value to table
				if (correctanswer){
					
					
					var T8 = document.getElementById('T8');
					var m1 = T8.getElementsByTagName('th');
					var T9 = document.getElementById('T9');
					var m2 = T9.getElementsByTagName('th');
					var T7 = document.getElementById('T7');
					var m3 = T7.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[0]) {
						if (typeof T8 != 'undefined') {
							m1[0].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T9 != 'undefined') {
							m2[0].innerHTML = '&nbsp';
						}
					}
					m3[0].innerHTML = sortednums[0];
					correctanswer = false;
                    nextcount++;
					sn++;
				}
				break;

			case 10: //add last value to table and change visibility of old tables
				if(correctanswer){
					
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					var T8 = (document.getElementById('T8').style.visibility = 'hidden');
					var T9 = (document.getElementById('T9').style.visibility = 'hidden');
					var T7 = document.getElementById('T7');
					var m1 = T7.getElementsByTagName('th');
					if (typeof T7 != 'undefined') {
						m1[1].innerHTML = sortednums[1];
					}
					correctanswer = false;
                    nextcount++;
					sn++;
				}
				break;
			case 11: //clear initial table
				//delete table
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T4 = document.getElementById('T4');
				var m1 = T4.getElementsByTagName('th');
				shortA = [nums[0], nums[1], nums[2]];
				sortednums = mergeSort(shortA);
				sn = 0;
				for (let i = 0; i < 3; i++) {
					m1[i].innerHTML = '&nbsp';
				}
				console.log(x, y);
				nextcount++;
				break;
			case 12: //add first value

				if(correctanswer){

					var T6 = document.getElementById('T6');
					var m1 = T6.getElementsByTagName('th');
					var T7 = document.getElementById('T7');
					var m2 = T7.getElementsByTagName('th');
					var T4 = document.getElementById('T4');
					var m3 = T4.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[0]) {
						if (typeof T6 != 'undefined') {
							m1[0].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T7 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					console.log(x, y);
					m3[0].innerHTML = sortednums[0];
					nextcount++;
					sn++;
					correctanswer = false;
				}
				break;
			case 13: //add second value

				if(correctanswer){

					var T6 = document.getElementById('T6');
					var m1 = T6.getElementsByTagName('th');
					var T7 = document.getElementById('T7');
					var m2 = T7.getElementsByTagName('th');
					var T4 = document.getElementById('T4');
					var m3 = T4.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[1]) {
						if (typeof T6 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T7 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					console.log(x, y);
					m3[1].innerHTML = sortednums[1];
					sn++;
					nextcount++;
					correctanswer = false;
				}

				break;
			case 14: //add final value and set visibility of old tables to 0

				if(correctanswer){
					
					var T6 = document.getElementById('T6');
					var m1 = T6.getElementsByTagName('th');
					var T7 = document.getElementById('T7');
					var m2 = T7.getElementsByTagName('th');
					var T4 = document.getElementById('T4');
					var m3 = T4.getElementsByTagName('th');
					if (m1[0].innerHTML == sortednums[2]) {
						if (typeof T6 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T7 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					document.getElementById('T6').style.visibility = 'hidden';
					document.getElementById('T7').style.visibility = 'hidden';
					m3[2].innerHTML = sortednums[2];
					correctnums = [nums[3]];
					x = 0;
					y = 0;
					sn = 0;
					nextcount++;
					correctanswer = false;
				}

				break;
			case 15: //split
				if (correctanswer) {

					content +=
						"</br><table class= 'table13' id='T13' style = 'width: 2%; margin-top: -8pc'><tr>";
					for (let i = 3; i < 4; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[4]];
					correctanswer = false;
					nextcount++;
				}
				break;

			case 16:

				if (correctanswer == true) {
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					content +=
						"<table class = 'table12' id='T12' style = 'width:2%; margin-top: -1.5pc'><tr>"; //split
					for (let i = 4; i < 5; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					shortA = [nums[3], nums[4]];
					sortednums = mergeSort(shortA);
					correctnums = sortednums;
					correctanswer = false;
					nextcount++;
				}

				break;
			case 17: //clear initial table		
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T5 = document.getElementById('T5');
				var m1 = T5.getElementsByTagName('th');
				shortA = [nums[3], nums[4]];
				sortednums = mergeSort(shortA);
				for (let i = 0; i < 2; i++) {
					m1[i].innerHTML = '&nbsp';
				}
				nextcount++;
				break;
			case 18: // add first value
				if(correctanswer){
					
					var T12 = document.getElementById('T12');
					var m1 = T12.getElementsByTagName('th');
					var T13 = document.getElementById('T13');
					var m2 = T13.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m3 = T5.getElementsByTagName('th');
					console.log(x);
					if (m1[x].innerHTML == sortednums[0]) {
						if (typeof T12 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T13 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					m3[0].innerHTML = sortednums[0];
					nextcount++;
					correctanswer = false;
					sn++;
				}

					
				break;
			case 19: // add final value


				if(correctanswer){
					//Add the final value into the table
					var T12 = document.getElementById('T12');
					var m1 = T12.getElementsByTagName('th');
					var T13 = document.getElementById('T13');
					var m2 = T13.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m3 = T5.getElementsByTagName('th');
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					console.log(x);
					if (m1[x].innerHTML == sortednums[2]) {
						if (typeof T12 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T13 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					document.getElementById('T12').style.visibility = 'hidden';
					document.getElementById('T13').style.visibility = 'hidden';
					m3[1].innerHTML = sortednums[1];
					sn = 0;
					nextcount++;
					correctanswer = false;
				}

				break;
			case 20: //clear inital table
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T2 = document.getElementById('T2');
				var m1 = T2.getElementsByTagName('th');
				shortA = [nums[0], nums[1], nums[2], nums[3], nums[4]];
				sortednums = mergeSort(shortA);
				for (let i = 0; i < 5; i++) {
					m1[i].innerHTML = '&nbsp';
				}
				nextcount++;
				break;
			case 21: //add first value


				if(correctanswer){

					var T4 = document.getElementById('T4');
					var m1 = T4.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m2 = T5.getElementsByTagName('th');
					var T2 = document.getElementById('T2');
					var m3 = T2.getElementsByTagName('th');
					console.log(x,y + " The sorted number: " + sortednums[0] + " the tables contain m1: " + m1[x].innerHTML + " and m2: " + m2[y].innerHTML);
					if (m1[x].innerHTML == sortednums[0]) {
						if (typeof T4 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T5 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					m3[0].innerHTML = sortednums[0];
					nextcount++;
					sn++;
					correctanswer = false;
				}
				break;
			case 22: //add second value

				if(correctanswer){

					//Examine the smallest value of unmerged array that still has all of its remaining values. Confirm that it is the smallest value between both arrays. Add this value to the second cell on the newly merged array
					var T4 = document.getElementById('T4');
					var m1 = T4.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m2 = T5.getElementsByTagName('th');
					var T2 = document.getElementById('T2');
					var m3 = T2.getElementsByTagName('th');
					console.log(x,y + " The sorted number: " + sortednums[1] + " the tables contain m1: " + m1[x].innerHTML + " and m2: " + m2[y].innerHTML);
					if (m1[x].innerHTML == sortednums[1]) {
						if (typeof T4 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T5 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					if (x > 2) {
						x = 0;
					}
					if (y >= 2) {
						y = 0;
					}
					m3[1].innerHTML = sortednums[1];
					nextcount++;
					sn++;
					correctanswer = false;	
				}
				break;
			case 23: //add third value

				if(correctanswer){

					var T4 = document.getElementById('T4');
					var m1 = T4.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m2 = T5.getElementsByTagName('th');
					var T2 = document.getElementById('T2');
					var m3 = T2.getElementsByTagName('th');
					console.log(x,y + " The sorted number: " + sortednums[2] + " the tables contain m1: " + m1[x].innerHTML + " and m2: " + m2[y].innerHTML);
					if (m1[x].innerHTML == sortednums[2]) {
						if (typeof T4 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T5 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					if (x > 2) {
						x = 0;
					}
					if (y >= 2) {
						y = 0;
					}
					m3[2].innerHTML = sortednums[2];
					nextcount++;
					sn++;
					correctanswer = false;
				}
				break;
			case 24: //add fourth value


				if(correctanswer){

					var T4 = document.getElementById('T4');
					var m1 = T4.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m2 = T5.getElementsByTagName('th');
					var T2 = document.getElementById('T2');
					var m3 = T2.getElementsByTagName('th');
					console.log(x,y + " The sorted number: " + sortednums[3] + " the tables contain m1: " + m1[x].innerHTML + " and m2: " + m2[y].innerHTML);
					if (m1[x].innerHTML == sortednums[3]) {
						if (typeof T4 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
							if (x >= 3) {
								x = 0;
							}
						}
					} else {
						if (typeof T5 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
							if (y >= 2) {
								y = 0;
							}
						}
					}
					m3[3].innerHTML = sortednums[3];
					nextcount++;
					sn++;
					correctanswer = false;
				}


				break;
			case 25: //add final value change visibility


				if(correctanswer){
					document.getElementById( 'check' ).setAttribute( "onClick", "javascript: checkifsplitcorrect();" );
					
					var T4 = document.getElementById('T4');
					var m1 = T4.getElementsByTagName('th');
					var T5 = document.getElementById('T5');
					var m2 = T5.getElementsByTagName('th');
					var T2 = document.getElementById('T2');
					var m3 = T2.getElementsByTagName('th');
					console.log(x,y + " The sorted number: " + sortednums[4] + " the tables contain m1: " + m1[x].innerHTML + " and m2: " + m2[y].innerHTML);
					if (m1[x].innerHTML == sortednums[4]) {
						if (typeof T4 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T5 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					document.getElementById('T4').style.visibility = 'hidden';
					document.getElementById('T5').style.visibility = 'hidden';
					m3[4].innerHTML = sortednums[4];
					correctnums = [nums[5], nums[6],nums[7]];
					x = 0;
					y = 0;
					sn =0;
					nextcount++;
					correctanswer = false;
				}

				
				break;
			case 26: //split

				if (correctanswer) {

					content +=
						"</br><table class ='table16' id='T16' style='width:6%; margin-top: -8pc'><tr>";
					for (let i = 5; i < 8; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[8], nums[9]];
					correctanswer = false;
					nextcount++;
				}
				break;
			case 27:
				if (correctanswer) {
						//instructions here

						content +=
							"<table class ='table17' id='T17' style='width:6%'><tr>";
						for (let i = 8; i < 10; i++) {
							content += "<th>";
							content += nums[i];
							content += "</th>";
						}
						content += "</tr></table>";
						correctnums = [nums[5]];
						correctanswer = false;
						nextcount++;
				}

				break;
			case 28: //split
				if (correctanswer) {

					content +=
						"</br><table class ='table18' id='T18' style = 'width:2%'><tr>";
					for (let i = 5; i < 6; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[6], nums[7]];
					correctanswer = false;
					nextcount++;
				}
				break;

			case 29:
				if (correctanswer) {

					content +=
						"<table class = 'table19' id='T19' style='width:4%'><tr>";
					for (let i = 6; i < 8; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[6]];
					correctanswer = false;
					nextcount++;
				}
				

				break;
			case 30: //split
				if (correctanswer) {
					content +=
						"</br><table class = 'table20' id='T20' style='width:2%'><tr>";
					for (let i = 6; i < 7; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[7]];
					correctanswer = false;
					nextcount++;
				}
				break;

			case 31:
				if (correctanswer) {
					document.getElementById( 'check' ).setAttribute( "onClick", "javascript: checkifmergecorrect();" );
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					content +=
						"</br><table class = 'table21' id='T21' style='width: 2%'><tr>";
					for (let i = 7; i < 8; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					shortA = [nums[6], nums[7]];
					sortednums = mergeSort(shortA);
					correctnums = sortednums;
					correctanswer = false;
					nextcount++;
				}

				break;
			case 32: //clear initial table
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				shortA = [nums[6], nums[7]];
				sortednums = mergeSort(shortA);
				var T19 = document.getElementById('T19');
				var m3 = T19.getElementsByTagName('th');
				for (let i = 0; i < 2; i++) {
					m3[i].innerHTML = '&nbsp';
				}
				correctanswer = false;
				nextcount++;
				break;
			case 33: //add first value
				if (correctanswer) {
					var T20 = document.getElementById('T20');
					var m1 = T20.getElementsByTagName('th');
					var T21 = document.getElementById('T21');
					var m2 = T21.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[0]) {
						if (typeof T20 != 'undefined') {
							m1[0].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T21 != 'undefined') {
							m2[0].innerHTML = '&nbsp';
						}
					}
					var T19 = document.getElementById('T19');
					var m3 = T19.getElementsByTagName('th');
					correctanswer = false;
					nextcount++;
					sn++;
					m3[0].innerHTML = sortednums[0];
				}
				break;
			case 34: //add final value and change table visibility
				if (correctanswer) {
					var T20 = (document.getElementById('T20').style.visibility = 'hidden');
					var T21 = (document.getElementById('T21').style.visibility = 'hidden');
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					var T19 = document.getElementById('T19');

					var m1 = T19.getElementsByTagName('th');
					if (typeof T20 != 'undefined') {
						m1[1].innerHTML = sortednums[1];
					}
					shortA = [nums[5], nums[6], nums[7]];
					sortednums = mergeSort(shortA);
					correctanswer = false;
					nextcount++;
					x = 0;
					y = 0;
					sn = 0;
				}
				break;
			case 35: //clear initial table
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T16 = document.getElementById('T16');
				var m3 = T16.getElementsByTagName('th');
				for (let i = 0; i < 3; i++) {
					m3[i].innerHTML = '&nbsp';
				}
				nextcount++;
				break;
			case 36: //add first value
				if (correctanswer) {
					var T18 = document.getElementById('T18');
					var m1 = T18.getElementsByTagName('th');
					var T19 = document.getElementById('T19');
					var m2 = T19.getElementsByTagName('th');
					var T16 = document.getElementById('T16');
					var m3 = T16.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[0]) {
						if (typeof T18 != 'undefined') {
							m1[0].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T19 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					console.log(x, y);
					m3[0].innerHTML = sortednums[0];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 37: //add second value
				if (correctanswer) {
					var T18 = document.getElementById('T18');
					var m1 = T18.getElementsByTagName('th');
					var T19 = document.getElementById('T19');
					var m2 = T19.getElementsByTagName('th');
					var T16 = document.getElementById('T16');
					var m3 = T16.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[1]) {
						if (typeof T18 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T19 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					console.log(x, y);
					m3[1].innerHTML = sortednums[1];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 38: //add final value and change table visibility
				if (correctanswer) {
					document.getElementById( 'check' ).setAttribute( "onClick", "javascript: checkifsplitcorrect();" );
					var T18 = document.getElementById('T18');
					var m1 = T18.getElementsByTagName('th');
					var T19 = document.getElementById('T19');
					var m2 = T19.getElementsByTagName('th');
					var T16 = document.getElementById('T16');
					var m3 = T16.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[2]) {
						if (typeof T18 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T19 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					document.getElementById('T18').style.visibility = 'hidden';
					document.getElementById('T19').style.visibility = 'hidden';
					m3[2].innerHTML = sortednums[2];
					correctnums = [nums[8]];
					x = 0;
					y = 0;
					sn = 0;
					nextcount++;
					correctanswer = false;
				}
				break;
			case 39: //split
				if (correctanswer) {

					content +=
						"</br><table class='table24' id='T24' style='width:2%'><tr>";
					for (let i = 8; i < 9; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctnums = [nums[9]];
					correctanswer = false;
					nextcount++;
				}
				break;

			case 40:
				if (correctanswer) {
					document.getElementById( 'check' ).setAttribute( "onClick", "javascript: checkifmergecorrect();" );
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					content +=
						"<table class='table25' id='T25' style='width:2%'><tr>";
					for (let i = 9; i < 10; i++) {
						content += "<th>";
						content += nums[i];
						content += "</th>";
					}
					content += "</tr></table>";
					correctanswer = false;
					nextcount++;
				}
				break;

			case 41: //Clear table
			
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				shortA = [nums[8], nums[9]];
				sortednums = mergeSort(shortA);
				var T17 = document.getElementById('T17');
				var m3 = T17.getElementsByTagName('th');
				for (let i = 0; i < 2; i++) {
					m3[i].innerHTML = '&nbsp';
				}
				nextcount++;
				break;
			case 42: //add first value
				if (correctanswer) {
					var T24 = document.getElementById('T24');
					var m1 = T24.getElementsByTagName('th');
					var T25 = document.getElementById('T25');
					var m2 = T25.getElementsByTagName('th');

					if (m1[0].innerHTML == sortednums[0]) {
						if (typeof T25 != 'undefined') {
							m1[0].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T24 != 'undefined') {
							m2[0].innerHTML = '&nbsp';
						}
					}
					var T17 = document.getElementById('T17');
					var m3 = T17.getElementsByTagName('th');
					m3[0].innerHTML = sortednums[0];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 43: //add final value and change table visibility
				if (correctanswer) {

					var T24 = (document.getElementById('T24').style.visibility = 'hidden');
					var T25 = (document.getElementById('T25').style.visibility = 'hidden');
					var T17 = document.getElementById('T17');
					var m1 = T17.getElementsByTagName('th');
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					if (typeof T24 != 'undefined') {
						m1[1].innerHTML = sortednums[1];
					}
					correctanswer = false;
					nextcount++;
					sn = 0;
				}
				break;
			case 44: //merge
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T3 = document.getElementById('T3');
				var m1 = T3.getElementsByTagName('th');
				shortA = [nums[5], nums[6], nums[7], nums[8], nums[9]];
				sortednums = mergeSort(shortA);
				for (let i = 0; i < 5; i++) {
					m1[i].innerHTML = '&nbsp';
				}
				nextcount++;
					
				break;
			case 45: //add first value
				if (correctanswer) {
					var T16 = document.getElementById('T16'); //length 3 one
					var m1 = T16.getElementsByTagName('th');
					var T17 = document.getElementById('T17'); //length 2
					var m2 = T17.getElementsByTagName('th');
					var T3 = document.getElementById('T3'); //length 5
					var m3 = T3.getElementsByTagName('th');

					console.log(x);
					if (m1[x].innerHTML == sortednums[0]) {
						if (typeof T16 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
							if (x == 2) {
								x == 0;
							}
						}
					} else {
						if (typeof T17 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					m3[0].innerHTML = sortednums[0];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 46: //add second value
				if (correctanswer) {
					var T16 = document.getElementById('T16');
					var m1 = T16.getElementsByTagName('th');
					var T17 = document.getElementById('T17');
					var m2 = T17.getElementsByTagName('th');
					var T3 = document.getElementById('T3');
					var m3 = T3.getElementsByTagName('th');
					console.log(x);
					if (m1[x].innerHTML == sortednums[1]) {
						if (typeof T16 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T17 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					if (y == 2) {
						y = 0;
					}
					if (x >= 3) {
						x == 0;
					}
					m3[1].innerHTML = sortednums[1];
					correctanswer = false;
					nextcount++;
					sn++;
					
				}
				break;
			case 47: //add third value
				if (correctanswer) {
					var T16 = document.getElementById('T16');
					var m1 = T16.getElementsByTagName('th');
					var T17 = document.getElementById('T17');
					var m2 = T17.getElementsByTagName('th');
					var T3 = document.getElementById('T3');
					var m3 = T3.getElementsByTagName('th');
					console.log(x);
					if (m1[x].innerHTML == sortednums[2]) {
						if (typeof T16 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T17 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					if (x >= 3) {
						x == 0;
					}
					if (y == 2) {
						y = 0;
					}
					m3[2].innerHTML = sortednums[2];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 48: //add fourth value
				if (correctanswer) {
					var T16 = document.getElementById('T16');
					var m1 = T16.getElementsByTagName('th');
					var T17 = document.getElementById('T17');
					var m2 = T17.getElementsByTagName('th');
					var T3 = document.getElementById('T3');
					var m3 = T3.getElementsByTagName('th');
					if (y >= 2) {
						y = 0;
					}
					if (x >= 3) {
						x = 0;
					}
					console.log(x);
					if (m1[x].innerHTML == sortednums[3]) {
						if (typeof T16 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
							x++;
						}
					} else {
						if (typeof T17 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
							y++;
						}
					}
					m3[3].innerHTML = sortednums[3];
					correctanswer = false;
					nextcount++;
					sn++;
				}
				break;
			case 49: //add final value and change table visibility
				if (correctanswer) {
					var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
					var T16 = document.getElementById('T16');
					var m1 = T16.getElementsByTagName('th');
					var T17 = document.getElementById('T17');
					var m2 = T17.getElementsByTagName('th');
					var T3 = document.getElementById('T3');
					var m3 = T3.getElementsByTagName('th');

					if (y >= 2) {
						y = 0;
					}
					if (x >= 3) {
						x = 0;
					}
					console.log(x);
					if (m1[x].innerHTML == sortednums[4]) {
						if (typeof T16 != 'undefined') {
							m1[x].innerHTML = '&nbsp';
						}
					} else {
						if (typeof T17 != 'undefined') {
							m2[y].innerHTML = '&nbsp';
						}
					}
					document.getElementById('T16').style.visibility = 'hidden';
					document.getElementById('T17').style.visibility = 'hidden';
					m3[4].innerHTML = sortednums[4];
					x == 0;
					y == 0;
					correctanswer = false;
					nextcount++;
					sn = 0;
				}
				break;
			case 50: //merge
				var checkbutton = (document.getElementById('check').style.visibility = 'visible');
				var T2 = document.getElementById('T2');
				var m1 = T2.getElementsByTagName('th');
				var T3 = document.getElementById('T3');
				var m2 = T3.getElementsByTagName('th');
				var T1 = document.getElementById('T1');
				var m3 = T1.getElementsByTagName('th');
				shortA = [nums[0], nums[1], nums[2], nums[3], nums[4], nums[5], nums[6], nums[7], nums[8], nums[9]];
				sortednums = mergeSort(shortA);
				for (let i = 0; i < 10; i++) {
					m3[i].innerHTML = '&nbsp';
				}
				nextcount++;
				x = 0;
				y = 0;
				break;
			case 51:
				if (correctanswer) {

					if (z < 10) {
						var T2 = document.getElementById('T2'); //length 3 one
						var m1 = T2.getElementsByTagName('th');
						var T3 = document.getElementById('T3'); //length 2
						var m2 = T3.getElementsByTagName('th');
						var T1 = document.getElementById('T1'); //length 5
						var m3 = T1.getElementsByTagName('th');

						console.log(x, y, z);
						if (m1[x].innerHTML == sortednums[z]) {
							if (typeof T2 != 'undefined') {
								m1[x].innerHTML = '&nbsp';
								if (x < 4) {
									x++;
								} else {
									x = 0;
								}
							}
						} else {
							if (typeof T3 != 'undefined') {
								m2[y].innerHTML = '&nbsp';
								if (y < 4) {
									y++;
								} else {
									y = 0;
								}
							}
						}

						m3[z].innerHTML = sortednums[z];
						z++;
						if(z <9){correctanswer = false;}
						if(z == 9){
							
							var checkbutton = (document.getElementById('check').style.visibility = 'hidden');
							var checkbutton = (document.getElementById('arr1').style.visibility = 'hidden');
						}		
						sn++;
					} else {
						document.getElementById('p').innerHTML = 'MERGESORT COMPLETE';
						document.getElementById('T2').style.visibility = 'hidden';
						document.getElementById('T3').style.visibility = 'hidden';
						//setTimeout(goToLevel3,5000); //go to window location after 7000ms
					}
				}
				break;
		}
		
		$(document).ready(function(){
			$('#main').append(content);

		});

	}

	//function goToLevel3()
	//{
	//	window.location = "level3.html"; //chaning window location
	//}

	function checkifsplitcorrect() {
		var correctSound = new Audio("correct.mp3");
		var wrongSound = new Audio("boing2.mp3");
		var x = document.getElementById("arr1").value;
		let answer = 0;
		let inums = x.split(/(\s+)/).filter(function (e) {
			return e.trim().length > 0;
		});
		let inputednums = [];
		for (let i = 0; i < inums.length; i++){
			inputednums[i] = parseInt(inums[i]);
		}
		console.log(inputednums, correctnums);
		for (let i = 0; i < inputednums.length; i++) {
			if (correctnums[i] == inputednums[i]) {
				answer++;
			}else{
				answer--;
			}
		}
		if (inputednums.length == 0) {
			correctanswer = false;
			wrongSound.play();
			alert("WRONG");
			console.log(correctnums[0] + " in split 1 user entered: " + inputednums[0]);
			mistakes++;
		} else if (answer == correctnums.length) {
			correctanswer = true;
			correctSound.play();
			alert("CORRECT");
		} else {
			correctanswer = false;
			wrongSound.play();
			console.log(correctnums+ " in split 2 user entered: " + inputednums + "this is how many they got right: " + answer);
			alert("WRONG");
			mistakes++;
		}


		if(mistakes == 3){
			location.href = 'menu.html';
		}


	}


	function checkifmergecorrect() {
		var correctSound = new Audio("correct.mp3");
		var wrongSound = new Audio("boing2.mp3");
		var x = document.getElementById("arr1").value;
		let inputednums = x.split(/(\s+)/).filter(function (e) {
			return e.trim().length > 0;
		});
		if (inputednums[0] == sortednums[sn] && inputednums.length < 2) {
			correctanswer = true;
			correctSound.play();
			alert("CORRECT");
		} else {
			correctanswer = false;
			console.log(sortednums[sn] + " in merge user entered: " + inputednums);
			wrongSound.play();
			alert("WRONG");
			mistakes++;
		}

		if(mistakes == 3){
			location.href = 'menu.html';
		}


		if(mistakes == 3){
			location.href = 'menu.html';
		}

	}


	function merge(left, right) {
		let resultArray = [],
			leftIndex = 0,
			rightIndex = 0;

		// We will concatenate values into the resultArray in order
		while (leftIndex < left.length && rightIndex < right.length) {
			if (left[leftIndex] < right[rightIndex]) {
				resultArray.push(left[leftIndex]);
				leftIndex++; // move left array cursor
			} else {
				resultArray.push(right[rightIndex]);
				rightIndex++; // move right array cursor
			}
		}

		// We need to concat here because there will be one element remaining
		// from either left OR the right
		return resultArray.concat(left.slice(leftIndex)).concat(right.slice(rightIndex));
	}

	// Merge Sort Implentation (Recursion)
	function mergeSort(unsortedArray) {
		// No need to sort the array if the array only has one element or empty
		if (unsortedArray.length <= 1) {
			return unsortedArray;
		}

		// In order to divide the array in half, we need to figure out the middle
		const middle = Math.floor(unsortedArray.length / 2);

		// This is where we will be dividing the array into left and right
		const left = unsortedArray.slice(0, middle);
		const right = unsortedArray.slice(middle);

		// Using recursion to combine the left and right
		return merge(mergeSort(left), mergeSort(right));
	}
</script>
